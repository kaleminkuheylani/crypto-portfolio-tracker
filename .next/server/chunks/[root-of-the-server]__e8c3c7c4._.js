module.exports=[93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},14747,(e,t,r)=>{t.exports=e.x("path",()=>require("path"))},24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},24836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},21517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},4446,(e,t,r)=>{t.exports=e.x("net",()=>require("net"))},55004,(e,t,r)=>{t.exports=e.x("tls",()=>require("tls"))},92509,(e,t,r)=>{t.exports=e.x("url",()=>require("url"))},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},874,(e,t,r)=>{t.exports=e.x("buffer",()=>require("buffer"))},81111,(e,t,r)=>{t.exports=e.x("node:stream",()=>require("node:stream"))},32088,e=>{"use strict";var t=e.i(47909),r=e.i(74017),a=e.i(96250),n=e.i(59756),o=e.i(61916),i=e.i(14444),s=e.i(37092),l=e.i(69741),p=e.i(16795),d=e.i(87718),u=e.i(95169),c=e.i(47587),m=e.i(66012),h=e.i(70101),x=e.i(26937),g=e.i(10372),f=e.i(93695);e.i(52474);var y=e.i(220),v=e.i(89171),R=e.i(34731);let k=process.env.GEMINI_API_KEY||"",T=new R.GoogleGenAI({apiKey:k}),w=["https://images.unsplash.com/photo-1621761191319-c6fb62004040?q=80&w=1000&auto=format&fit=crop","https://images.unsplash.com/photo-1518546305927-5a555bb7020d?q=80&w=1000&auto=format&fit=crop","https://images.unsplash.com/photo-1605792657660-596af9009e82?q=80&w=1000&auto=format&fit=crop","https://images.unsplash.com/photo-1622630998477-20aa696fab05?q=80&w=1000&auto=format&fit=crop","https://images.unsplash.com/photo-1642104704074-907c0698cbd9?q=80&w=1000&auto=format&fit=crop","https://images.unsplash.com/photo-1639762681485-074b7f938ba0?q=80&w=1000&auto=format&fit=crop"],S=()=>new Date().toISOString().split("T")[0];async function b(e){try{let{marketData:t,category:r,overrideTitle:a}=await e.json(),n=t.sort((e,t)=>Math.abs(t.price_change_percentage_24h)-Math.abs(e.price_change_percentage_24h)).slice(0,5).map(e=>`${e.name} (${e.price_change_percentage_24h.toFixed(2)}%)`).join(", "),o="";o="tahmin"===r?`
        Sen bir SEO uzmanı ve kıdemli kripto analistisin. G\xdcNL\xdcK FİYAT TAHMİNİ makalesi yaz.
        Odak: \xd6n\xfcm\xfczdeki 24-48 saat i\xe7inde y\xfckseliş veya d\xfcş\xfcş beklediğin 2 coini se\xe7.
        Yapı: Başlık H1, Alt başlıklar H2 kullan. Paragraflar kısa ve okunaklı olsun.
        Ton: Profesyonel ama spek\xfclatif (Yatırım tavsiyesi değildir uyarısı ekle).
      `:"analiz"===r?`
        Sen bir SEO uzmanı ve kripto araştırmacısısın. Haftalık detaylı TEKNİK ANALİZ makalesi yaz.
        Odak: Piyasayı domine eden ana trendi (Bitcoin dominansı, Makro ekonomi) incele.
        Yapı: Semantik HTML etiketleri kullan (h2, p, ul, li).
        Ton: Akademik ve eğitici.
      `:`
        Sen bir kripto haber edit\xf6r\xfcs\xfcn. Haftalık \xf6zet ve GENEL HABER makalesi yaz.
        Odak: Hafta sonu hareketleri ve gelecek haftanın takvimi.
        Yapı: Madde işaretleri ve net başlıklar.
      `;let i=`
      ${o}
      
      Piyasa Verileri: ${n}
      Tarih: ${S()}
      ${a?`Konu Başlığı: ${a}`:""}

      \xc7OK \xd6NEMLİ: 
      1. \xc7ıktıyı SADECE ge\xe7erli bir JSON objesi olarak ver. 
      2. "htmlContent" alanı HTML formatında (h2, p, ul, li, strong etiketleri ile) olmalı.
      3. "content" alanı d\xfcz metin olmalı.
      4. "slug" alanı URL dostu olmalı (\xf6rn: kripto-piyasa-analizi-2024).
      5. "metaDescription" alanı 160 karakteri ge\xe7memeli.

      JSON Şeması:
      {
           "title": "String (Başlık)",
           "slug": "String (kebab-case)",
           "metaDescription": "String (SEO a\xe7ıklaması)",
           "summary": "String (Kısa \xf6zet)",
           "htmlContent": "String (HTML etiketli i\xe7erik)",
           "content": "String (D\xfcz metin)",
           "author": "KriptoPusula AI",
           "readTime": "String (\xf6rn: 5 dk)",
           "tags": ["String", "String"],
           "keywords": ["String", "String"]
      }
    `,s=(await T.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:R.Type.OBJECT,properties:{title:{type:R.Type.STRING},slug:{type:R.Type.STRING},metaDescription:{type:R.Type.STRING},summary:{type:R.Type.STRING},htmlContent:{type:R.Type.STRING},content:{type:R.Type.STRING},author:{type:R.Type.STRING},readTime:{type:R.Type.STRING},tags:{type:R.Type.ARRAY,items:{type:R.Type.STRING}},keywords:{type:R.Type.ARRAY,items:{type:R.Type.STRING}}}}}})).text;if(!s)return v.NextResponse.json({error:"No response from AI"},{status:500});let l=JSON.parse(s),p={id:crypto.randomUUID(),title:l.title,slug:l.slug||l.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]/g,""),metaDescription:l.metaDescription||l.summary,summary:l.summary,htmlContent:l.htmlContent||`<p>${l.content}</p>`,content:l.content,author:l.author,date:S(),readTime:l.readTime,imageUrl:w[Math.floor(Math.random()*w.length)],tags:l.tags||[],keywords:l.keywords||[],category:r};return v.NextResponse.json(p)}catch(e){return console.error("Blog post generation failed:",e),v.NextResponse.json({error:"Failed to generate blog post"},{status:500})}}e.s(["POST",()=>b],12422);var E=e.i(12422);let N=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/blog/generate/route",pathname:"/api/blog/generate",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/blog/generate/route.ts",nextConfigOutput:"",userland:E}),{workAsyncStorage:_,workUnitAsyncStorage:A,serverHooks:C}=N;function q(){return(0,a.patchFetch)({workAsyncStorage:_,workUnitAsyncStorage:A})}async function O(e,t,a){N.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let v="/api/blog/generate/route";v=v.replace(/\/index$/,"")||"/";let R=await N.prepare(e,t,{srcPage:v,multiZoneDraftMode:!1});if(!R)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:k,params:T,nextConfig:w,parsedUrl:S,isDraftMode:b,prerenderManifest:E,routerServerContext:_,isOnDemandRevalidate:A,revalidateOnlyGenerated:C,resolvedPathname:q,clientReferenceManifest:O,serverActionsManifest:I}=R,P=(0,l.normalizeAppPath)(v),M=!!(E.dynamicRoutes[P]||E.routes[q]),j=async()=>((null==_?void 0:_.render404)?await _.render404(e,t,S,!1):t.end("This page could not be found"),null);if(M&&!b){let e=!!E.routes[q],t=E.dynamicRoutes[P];if(t&&!1===t.fallback&&!e){if(w.experimental.adapterPath)return await j();throw new f.NoFallbackError}}let H=null;!M||N.isDev||b||(H="/index"===(H=q)?"/":H);let D=!0===N.isDev||!M,U=M&&!D;I&&O&&(0,i.setReferenceManifestsSingleton)({page:v,clientReferenceManifest:O,serverActionsManifest:I,serverModuleMap:(0,s.createServerModuleMap)({serverActionsManifest:I})});let G=e.method||"GET",$=(0,o.getTracer)(),K=$.getActiveScopeSpan(),L={params:T,prerenderManifest:E,renderOpts:{experimental:{authInterrupts:!!w.experimental.authInterrupts},cacheComponents:!!w.cacheComponents,supportsDynamicResponse:D,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:w.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>N.onRequestError(e,t,a,_)},sharedContext:{buildId:k}},z=new p.NodeNextRequest(e),B=new p.NodeNextResponse(t),F=d.NextRequestAdapter.fromNodeNextRequest(z,(0,d.signalFromNodeResponse)(t));try{let i=async e=>N.handle(F,L).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=$.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${G} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${G} ${v}`)}),s=!!(0,n.getRequestMeta)(e,"minimalMode"),l=async n=>{var o,l;let p=async({previousCacheEntry:r})=>{try{if(!s&&A&&C&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let o=await i(n);e.fetchMetrics=L.renderOpts.fetchMetrics;let l=L.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let p=L.renderOpts.collectedTags;if(!M)return await (0,m.sendResponse)(z,B,o,L.renderOpts.pendingWaitUntil),null;{let e=await o.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(o.headers);p&&(t[g.NEXT_CACHE_TAGS_HEADER]=p),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,a=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:y.CachedRouteKind.APP_ROUTE,status:o.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await N.onRequestError(e,t,{routerKind:"App Router",routePath:v,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:A})},_),t}},d=await N.handleResponse({req:e,nextConfig:w,cacheKey:H,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:E,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:C,responseGenerator:p,waitUntil:a.waitUntil,isMinimalMode:s});if(!M)return null;if((null==d||null==(o=d.value)?void 0:o.kind)!==y.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",A?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),b&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let u=(0,h.fromNodeOutgoingHttpHeaders)(d.value.headers);return s&&M||u.delete(g.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||u.get("Cache-Control")||u.set("Cache-Control",(0,x.getCacheControlHeader)(d.cacheControl)),await (0,m.sendResponse)(z,B,new Response(d.value.body,{headers:u,status:d.value.status||200})),null};K?await l(K):await $.withPropagatedContext(e.headers,()=>$.trace(u.BaseServerSpan.handleRequest,{spanName:`${G} ${v}`,kind:o.SpanKind.SERVER,attributes:{"http.method":G,"http.target":e.url}},l))}catch(t){if(t instanceof f.NoFallbackError||await N.onRequestError(e,t,{routerKind:"App Router",routePath:P,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:A})}),M)throw t;return await (0,m.sendResponse)(z,B,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>q,"routeModule",()=>N,"serverHooks",()=>C,"workAsyncStorage",()=>_,"workUnitAsyncStorage",()=>A],32088)},85685,e=>{e.v(e=>Promise.resolve().then(()=>e(54799)))},91961,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__fda9c04e._.js"].map(t=>e.l(t))).then(()=>t(12111)))},72331,e=>{e.v(t=>Promise.all(["server/chunks/node_modules_node-fetch_src_utils_multipart-parser_d0c3da3f.js","server/chunks/[root-of-the-server]__c08a7b0d._.js","server/chunks/[root-of-the-server]__e24658a7._.js"].map(t=>e.l(t))).then(()=>t(20442)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e8c3c7c4._.js.map